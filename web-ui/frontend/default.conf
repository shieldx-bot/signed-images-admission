# default.conf

server {
    # Lắng nghe trên cổng 80 (cổng EXPOSE trong Dockerfile)
    listen 5000;

    # Thư mục gốc chứa file 'dist' của bạn
    root /usr/share/nginx/html;

    # Ưu tiên tìm file index.html
    index index.html index.htm;

    location / {
        # Đây là phần quan trọng nhất cho SPA (React/Vue/Angular)
        # 1. Cố gắng tìm file chính xác (ví dụ: /assets/app.js)
        # 2. Cố gắng tìm thư mục (ít dùng)
        # 3. Nếu không tìm thấy, quay về /index.html (để React Router xử lý)
        try_files $uri $uri/ /index.html;
    }

    # (Tùy chọn) Cấu hình để cache file tĩnh
    location ~* \.(css|js|jpg|jpeg|png|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public";
    }
}